install.packages("data.table")
install.packages("rvest")
require(data.table)
url <- "https://www.leboncoin.fr/ventes_immobilieres/offres/ile_de_france/occasions/?f=c"
webpage <- read_html(url)
require(rvest)
webpage <- read_html(url)
offres_data_html <- html_nodes(webpage, "item_title")
offres_data <- html_text(offres_data_html)
offres_data_html <- html_nodes(webpage, ".item_title")
offres_data <- html_text(offres_data_html)
cat_data_html <- html_nodes(webpage, ".tiny-hidden")
cat_data <- html_text(offres_data_html)
cat_data <- html_text(cat_data_html)
cat_data_html <- html_nodes(webpage, ".tabsSwitchNumbers")
cat_data <- html_text(cat_data_html)
require(stringr)
cat_data <- str_replace(cat_data, " ", "")
cat_data[3]
cat_data <- str_replace(cat_data, "\ ", "")
cat_data <- as.numeric(cat_data)
cat_data_html <- html_nodes(webpage, ".tabsSwitchNumbers")
cat_data <- html_text(cat_data_html)
cat_data <- str_replace(cat_data, "\ ", "")
cat_data <- str_replace(cat_data, "\ ", "")
?str_replace
cat_data_html <- html_nodes(webpage, ".tabsSwitchNumbers")
cat_data <- html_text(cat_data_html)
cat_data <- str_replace_all(cat_data, "\ ", "")
cat_data <- as.numeric(cat_data)
require(testthat)
expect_equal(cat_data[1], cat_data[2] + cat_data[3])
nb_pages <- cat_data[3] / length(offres_data)
nb_pages <- ceiling(cat_data[3] / length(offres_data))
